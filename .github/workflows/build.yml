name: FFmpeg Nvenc Build
'on':
  push:
    branches:
      - master
      - main
    tags:
      - '*'
jobs:
  build:
    runs-on: ubuntu-20.04
    permissions:
        contents: read
        packages: write
    #
    strategy:
      matrix:
        ffmpeg:
          [ '5.1.2', '6.0' ]
        nvenc:
          [ '11.0', '12.0' ]
    #
    steps:
      - name: Check-out repository
        uses: actions/checkout@v3
      #
      - name: Build FFmpeg ${{ matrix.ffmpeg }} Nvenc ${{ matrix.nvenc }}
        id: build-ffmpeg-nvenc
        shell: bash
        run: |
            sudo sh build.sh ${{ matrix.ffmpeg}} ${{ matrix.nvenc }}
       #
    #
#
